<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Titanors D&D Homebrew Currency Converter</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="cookieConsent" class="cookie-consent">
    <p>This website uses cookies to ensure you get the best experience on our website. <button onclick="acceptCookies()">Got it!</button></p>
  </div>
  
  <h1>Titanors D&D Homebrew Currency Converter</h1>

  <div class="switch-container">
    <label class="switch-label" for="darkModeToggle">
      <input type="checkbox" id="darkModeToggle" onclick="toggleDarkMode()">
      <div class="toggle"></div>
      <div class="handle"></div>
    </label>
  </div>
  
  <label for="fromCurrency">From Currency:</label>
  <select id="fromCurrency"></select>
  <br>
  <label for="amount">Amount:</label>
  <input type="number" id="amount" value="1">
  <br>
  <label for="toCurrency">To Currency:</label>
  <select id="toCurrency"></select>
  <br>
  <button onclick="convertCurrency()">Convert</button>
  <br>
  <p id="result"></p>

  <iframe src="table.html" width="80%" height="400px" style="border: 1px solid #333;"></iframe>

  <script src="app.js"></script>
  <script>
    // Check if the user has accepted cookies
    if (getCookie('cookieConsent') !== 'accepted') {
      document.getElementById('cookieConsent').style.display = 'block';
    }

    // Dark Mode Toggle Function
    function toggleDarkMode() {
      const body = document.body;
      const darkModeToggle = document.getElementById('darkModeToggle');
      
      if (darkModeToggle.checked) {
        body.classList.add('dark-mode');
        setCookie('darkMode', 'enabled', 365);
      } else {
        body.classList.remove('dark-mode');
        setCookie('darkMode', 'disabled', 365);
      }
    }

    // Function to set a cookie
    function setCookie(name, value, days) {
      const expires = new Date();
      expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);
      document.cookie = name + '=' + value + ';expires=' + expires.toUTCString();
    }

    // Function to get a cookie
    function getCookie(name) {
      const cookieName = name + '=';
      const cookies = document.cookie.split(';');
      for (let i = 0; i < cookies.length; i++) {
        let cookie = cookies[i];
        while (cookie.charAt(0) === ' ') {
          cookie = cookie.substring(1);
        }
        if (cookie.indexOf(cookieName) === 0) {
          return cookie.substring(cookieName.length, cookie.length);
        }
      }
      return '';
    }

    // Function to accept cookies
    function acceptCookies() {
      document.getElementById('cookieConsent').style.display = 'none';
      setCookie('cookieConsent', 'accepted', 365);

      // Check and apply dark mode preference
      const darkModeToggle = document.getElementById('darkModeToggle');
      const darkModeCookie = getCookie('darkMode');

      if (darkModeCookie === 'enabled') {
        darkModeToggle.checked = true;
        document.body.classList.add('dark-mode');
      } else {
        darkModeToggle.checked = false;
        document.body.classList.remove('dark-mode');
      }
    }

    // Check and apply dark mode preference on initial load
    window.addEventListener('load', function() {
      const darkModeToggle = document.getElementById('darkModeToggle');
      const darkModeCookie = getCookie('darkMode');

      if (darkModeCookie === 'enabled') {
        darkModeToggle.checked = true;
        document.body.classList.add('dark-mode');
      } else {
        darkModeToggle.checked = false;
        document.body.classList.remove('dark-mode');
      }
    });
  </script>
</body>
</html>
